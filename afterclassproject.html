<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sam's Calculator</title>
</head>
<body>
    <div class="calc">
        <div id="display">0</div>
        <div class="keys">
            <button data-action="clear">C</button>
            <button data-action="plusminus">±</button>
            <button data-action="percent">%</button>
            <button data-action="/">÷</button>

            <button data-value="7">7</button>
            <button data-value="8">8</button>
            <button data-value="9">9</button>
            <button data-action="*">×</button>

            <button data-value="4">4</button>
            <button data-value="5">5</button>
            <button data-value="6">6</button>
            <button data-action="-">−</button>

            <button data-value="1">1</button>
            <button data-value="2">2</button>
            <button data-value="3">3</button>
            <button data-action="+">+</button>

            <button class="zero" data-value="0">0</button>
            <button data-value=".">.</button>
            <button class="equal" data-action="=">=</button>
        </div>
    </div>

    <style>
        html,body{height:100%;margin:0;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial}
        .calc{width:320px;margin:40px auto;background:#111;border-radius:24px;padding:18px;color:#fff;box-shadow:0 10px 30px rgba(0,0,0,0.3)}
        #display{text-align:right;font-size:48px;padding:10px 8px;min-height:64px}
        .keys{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
        button{height:56px;border:0;border-radius:12px;background:#2b2b2d;color:#fff;font-size:20px;cursor:pointer}
        button[data-action="clear"], button[data-action="plusminus"], button[data-action="percent"]{background:#d3d3d3;color:#000}
        button[data-action="/"], button[data-action="*"], button[data-action="-"], button[data-action="+"], .equal{background:#ff9500}
        .zero{grid-column:1 / span 2;text-align:left;padding-left:20px}
        @media(max-width:420px){.calc{width:280px}#display{font-size:40px}}
    </style>

    <script>
        (function(){
            const display = document.getElementById('display');
            let current = '0', prev = null, operator = null;
            const upd = ()=> display.textContent = current;

            function clearAll(){ current='0'; prev=null; operator=null; upd(); }
            function toggleSign(){ current = current.startsWith('-') ? current.slice(1) : '-' + current; upd(); }
            function percent(){ current = String(parseFloat(current)/100); upd(); }

            function inputDigit(d){
                if(current === '0' && d !== '.') current = d;
                else if(d === '.' && current.includes('.')) return;
                else current += d;
                upd();
            }

            function operate(op){
                const num = parseFloat(current);
                if(prev == null) prev = num;
                else if(operator){
                    if(operator === '+') prev = prev + num;
                    if(operator === '-') prev = prev - num;
                    if(operator === '*') prev = prev * num;
                    if(operator === '/') prev = prev / num;
                }
                current = String(prev);
                operator = (op === '=') ? null : op;
                if(op !== '=') current = '0';
                upd();
            }

            document.querySelectorAll('button').forEach(b=> b.addEventListener('click', ()=>{
                const v = b.getAttribute('data-value');
                const a = b.getAttribute('data-action');
                if(v) inputDigit(v);
                else if(a){
                    if(a === 'clear') clearAll();
                    else if(a === 'plusminus') toggleSign();
                    else if(a === 'percent') percent();
                    else operate(a);
                }
            }));

            upd();
        })();
    </script>
</body>
</html>
